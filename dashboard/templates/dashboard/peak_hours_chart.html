{% load static %}

<!-- Peak Hours Chart Styles -->
<link rel="stylesheet" href="{% static 'dashboard/css/peak_hours_chart.css' %}?v=8.0">

<!-- Peak Hours Chart -->
<div class="peak-hours-container">
	<div class="peak-hours-header">
		<h3 class="peak-hours-title">
			<a href="{% url 'metrics:metrics' %}" style="text-decoration: none; color: inherit;">
				Peak Hours Today (Members & Walk-ins)
			</a>
		</h3>
		<div class="peak-hours-date" id="peakHoursDate">{{ current_time|date:"F d, Y" }}</div>
	</div>
	<div class="peak-hours-chart" id="peakHoursChart">
		<div class="chart-y-axis">
			<div class="y-axis-label">Check-ins</div>
			<div class="y-axis-ticks" id="yAxisTicks"></div>
		</div>
		<div class="chart-bars-container">
			<div class="chart-bars" id="chartBars">
				<!-- 24 bars will be generated by JavaScript (00:00 to 23:00) -->
			</div>
			<div class="chart-x-axis">
				<span>12 AM</span>
				<span>6 AM</span>
				<span>12 PM</span>
				<span>6 PM</span>
				<span>12 AM</span>
			</div>
		</div>
	</div>
	<div class="peak-hours-stats">
		<div class="stat-item">
			<span class="stat-label">Total Activity:</span>
			<span class="stat-value" id="totalCheckIns">{{ member_check_ins|add:daily_walk_ins }}</span>
		</div>
		<div class="stat-item">
			<span class="stat-label">Peak Hour:</span>
			<span class="stat-value" id="peakHour">--:--</span>
		</div>
	</div>
</div>

<!-- Peak Hours Data -->
<script>
	// Pass peak hours data from Django to JavaScript
	window.peakHoursData = {{ peak_hours|safe }};
</script>

<!-- Peak Hours Chart Script -->
<script defer src="{% static 'dashboard/js/peak_hours_chart.js' %}?v=7.0"></script>
